"use strict";(self.webpackChunk_3d_examples=self.webpackChunk_3d_examples||[]).push([[404],{3942:function(e,n,t){t.d(n,{k:function(){return a}});var i=t(3562),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"white",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:6,s=document.createElement("canvas");s.width=o,s.height=l;var c=s.getContext("2d");c.beginPath(),c.arc((o+r)/2,(l+r)/2,40,0,2*Math.PI,!0),c.closePath(),c.fillStyle=n,c.fill(),c.lineWidth=r,c.lineCap="round",c.strokeStyle=t,c.stroke(),c.font="64px Arial",c.fillStyle=a,c.textAlign="center";var d=c.measureText(e);c.fillText(e,(o+r)/2,(l+2*r)/2+d.fontBoundingBoxDescent+4*d.actualBoundingBoxDescent);var u=new i.xEZ(s);u.needsUpdate=!0;var p=new i.xeV({map:u,transparent:!0,opacity:.8}),f=new i.jyi(p);return f}},8404:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i=t(5861),a=t(5671),o=t(3144),l=t(7326),r=t(136),s=t(9388),c=t(7757),d=t.n(c),u=t(7313),p=t(3562),f=t(40),h=t(2518),m=t(1290),w=t(2815),v=t(7943),g=t(3942),x=t(6417),y=function(e){(0,r.Z)(t,e);var n=(0,s.Z)(t);function t(e){var o;return(0,a.Z)(this,t),(o=n.call(this,e)).state={loadingProcess:0,showAnimal:!1},o.initThree=function(){var e,n,t,a,r,s,c,u=[],x=(0,l.Z)(o);function y(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}!function(){e=document.getElementById("container"),(s=new p.CP7({antialias:!0})).setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.shadowMap.enabled=!0,e.appendChild(s.domElement),(r=new p.xsS).background=new p.Ilk(245820),x.scene=r,(a=new p.cPb(60,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,16,18),a.lookAt(new p.Pa4(0,0,0));var t=new p.Iis(30);r.add(t);var o=new p.DvJ(.001,.001,.001),l=new p.YBo({color:14423578}),v=new p.Kj0(o,l);v.position.set(0,0,0),(c=new p.Ox3(245820,1)).intensity=1.2,c.position.set(-5,10,3),c.target=v,r.add(c);var P=new p.Mig(16777215);P.intensity=1.2,r.add(P);var k=new p.lLk;k.onStart=function(e,n,t){},k.onLoad=function(){},k.onProgress=function(){var e=(0,i.Z)(d().mark((function e(n,t,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:100===Math.floor(t/i*100)?(x.loadingProcessTimeout&&clearTimeout(x.loadingProcessTimeout),x.loadingProcessTimeout=setTimeout((function(){x.setState({loadingProcess:Math.floor(t/i*100)})}),800)):x.setState({loadingProcess:Math.floor(t/i*100)});case 1:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}();var b=new f.E(k);b.load(m,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material.metalness=1,e.material.roughness=0)})),e.scene.position.set(0,0,0),e.scene.scale.set(40,40,40),x.plantCell=e.scene,x.plantGroup.add(e.scene),x.plantPoint.map((function(e){var n=(0,g.k)(e.key);n.name=e.value,n.scale.set(1,1,1),n.position.set(e.location.x,e.location.y,e.location.z),x.plantGroup.add(n),u.push(n)})),r.add(x.plantGroup)})),b.load(w,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.material.metalness=1,e.material.roughness=0)})),e.scene.position.set(0,-8,0),e.scene.scale.set(120,120,120),x.animalCell=e.scene,x.animalGroup.add(e.scene)})),(n=new h.z(a,s.domElement)).target.set(0,0,0),n.enableDamping=!0,window.addEventListener("resize",y,!1)}(),function e(){requestAnimationFrame(e),s.render(r,a),t&&t.update(),n&&n.update()}(),t=new v.Z,document.documentElement.appendChild(t.dom);var P=new p.iMs,k=new p.Pa4;window.addEventListener("click",(function(e){k.x=e.clientX/window.innerWidth*2-1,k.y=-e.clientY/window.innerHeight*2+1;var n=e.clientX/window.innerWidth*2-1,t=-e.clientX/window.innerHeight*2+1,i=new p.Pa4(n,t,.5).unproject(a);console.log(i),P.setFromCamera(k,a);var o=P.intersectObjects(u);o.length>0&&console.log(o[0].object)}),!1)},o.handleToggle=function(){o.scene.remove(o.state.showAnimal?o.animalGroup:o.plantGroup),o.scene.add(o.state.showAnimal?o.plantGroup:o.animalGroup),o.setState({showAnimal:!o.state.showAnimal})},o.plantCell=null,o.plantGroup=new p.ZAu,o.plantPoint=[{key:"1",value:"\u7ec6\u80de\u58c1",location:{x:0,y:4.2,z:-1}},{key:"2",value:"\u7ec6\u80de\u58c1",location:{x:-7,y:4,z:-1.6}},{key:"3",value:"\u7ec6\u80de\u58c1",location:{x:5,y:10,z:-10}},{key:"4",value:"\u7ec6\u80de\u58c1",location:{x:0,y:16,z:10}},{key:"5",value:"\u7ec6\u80de\u58c1",location:{x:0,y:10,z:0}},{key:"6",value:"\u7ec6\u80de\u58c1",location:{x:3,y:10,z:2}},{key:"7",value:"\u7ec6\u80de\u58c1",location:{x:0,y:15,z:0}},{key:"8",value:"\u7ec6\u80de\u58c1",location:{x:8,y:8,z:8}}],o.animalCell=null,o.animalGroup=new p.ZAu,o}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.initThree()}},{key:"render",value:function(){return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{id:"container"}),(0,x.jsxs)("button",{className:"toggle_button",onClick:this.handleToggle,children:["\u67e5\u770b",this.state.showAnimal?"\u690d\u7269\ud83c\udf32":"\u52a8\u7269\ud83d\udc3c","\u7ec6\u80de"]}),100===this.state.loadingProcess?"":(0,x.jsx)("div",{className:"cell_loading",children:(0,x.jsxs)("div",{className:"box",children:[this.state.loadingProcess," %"]})})]})}}]),t}(u.Component)},2815:function(e,n,t){e.exports=t.p+"static/media/animal_cell.2dc1761e4868fbd19b20.glb"},1290:function(e,n,t){e.exports=t.p+"static/media/plant_cell.d63210fb24baaf713401.glb"},7943:function(e,n){var t=function e(){var n=0,t=document.createElement("div");function i(e){return t.appendChild(e.dom),e}function a(e){for(var i=0;i<t.children.length;i++)t.children[i].style.display=i===e?"block":"none";n=e}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(e){e.preventDefault(),a(++n%t.children.length)}),!1);var o=(performance||Date).now(),l=o,r=0,s=i(new e.Panel("FPS","#0ff","#002")),c=i(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=i(new e.Panel("MB","#f08","#201"));return a(0),{REVISION:16,dom:t,addPanel:i,showPanel:a,begin:function(){o=(performance||Date).now()},end:function(){r++;var e=(performance||Date).now();if(c.update(e-o,200),e>=l+1e3&&(s.update(1e3*r/(e-l),100),l=e,r=0,d)){var n=performance.memory;d.update(n.usedJSHeapSize/1048576,n.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:t,setMode:a}};t.Panel=function(e,n,t){var i=1/0,a=0,o=Math.round,l=o(window.devicePixelRatio||1),r=80*l,s=48*l,c=3*l,d=2*l,u=3*l,p=15*l,f=74*l,h=30*l,m=document.createElement("canvas");m.width=r,m.height=s,m.style.cssText="width:80px;height:48px";var w=m.getContext("2d");return w.font="bold "+9*l+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=t,w.fillRect(0,0,r,s),w.fillStyle=n,w.fillText(e,c,d),w.fillRect(u,p,f,h),w.fillStyle=t,w.globalAlpha=.9,w.fillRect(u,p,f,h),{dom:m,update:function(s,v){i=Math.min(i,s),a=Math.max(a,s),w.fillStyle=t,w.globalAlpha=1,w.fillRect(0,0,r,p),w.fillStyle=n,w.fillText(o(s)+" "+e+" ("+o(i)+"-"+o(a)+")",c,d),w.drawImage(m,u+l,p,f-l,h,u,p,f-l,h),w.fillRect(u+f-l,p,l,h),w.fillStyle=t,w.globalAlpha=.9,w.fillRect(u+f-l,p,l,o((1-s/v)*h))}}},n.Z=t}}]);